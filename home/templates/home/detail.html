{% extends 'home/base.html' %}
{% load static %}



{% block content %}


<div class="container">

    <div class="row row-cols-1 row-cols-md-2 g-0 g-md-5 p-0 p-md-5">
        
        <div class="col" id="product-col">
            
            <div id="productCarousel" class="carousel slide carousel-fade" data-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img class="object-fit-cover" src="{% static 'images' %}{{product.default_image.url}}" alt="First slide">
                    </div>
                    {% for var in variant %}
                    <div class="carousel-item">
                        <img class="object-fit-cover" src="{% static 'images' %}{{var.image.url}}" alt="Second slide">
                    </div>
                    {% endfor %}
                </div>
                
                <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        
        </div>

        <!-- add varient code -->
        <!-- send data with js or use a form with hidden input values -->
        
        <div class="col ps-4 ps-md-5" id="latoText">
            <form id="cartForm" action="/cart" method="post">

                {% csrf_token %}
                
                
                <div class="my-4">
                    <label for="inputName">
                        <h4 class="m-0">{{product.name}}</h4>
                    </label>
                    <input type="text" name="productName" id="inputName" value="{{product.name}}" hidden>
                    <a href="" id="productCode" class="link">
                        <span class="text-black text-12">{{code}}/{{product.code}}</span>
                    </a>
                    <input type="text" name="code" id="productCode" value={{code}}/{{product.code}} hidden>
                </div>

                <div>
                    <label for="inputPrice">
                        <h4>RS {{product.price}}</h4>
                    </label>
                    <input type="text" name="productPrice" id="inputPrice" value={{product.price}} hidden>
                </div>
                    
                <div class="d-inline-flex h-25">
                    <span class="align-self-center">Colors</span>

                    <div class="w-25 p-4">
                        <label for="{{product.default_image.name}}">
                            <img class="image-fluid w-100" src="{% static 'images' %}{{product.default_image.url}}" alt="Second slide">
                            <input type="radio" name="productColor" value="{{product.default_image.name}}" id="{{product.default_image.name}}" hidden checked>
                        </label>
                    </div>
                    
                    {% for var in variant %}
                    <div class="w-25 p-4">
                        <label for="{{product.default_image.name}}">
                            <img class="image-fluid w-100" src="{% static 'images' %}{{var.image.url}}" alt="Second slide">
                            <input type="radio" name="productColor" value="{{var.image.url}}" id="{{product.default_image.name}}" hidden>
                        </label>
                    </div>
                    {% endfor %}
                </div>
                    
                <div class="">
                    <label for="size-options"><span>Size</span></label>
                    <div class="">
                        {% for size in sizes %}
                        <input type="radio" class="btn-check border-end" value="{{size}}" name="productSize" id="option{{size}}" autocomplete="off" checked>
                        <label class="btn" for="option{{size}}">{{size}}</label>
                        {% endfor %}
                    </div>
                    
                </div>
                
                <div class="">
                    <label class="" for="quantity"><span>Quantity</span></label>
                    <input class="d-block" type="number" max="5" min="1"value="1" name="productQuantity" id="inputQuantity">
                </div>
                
                
                
            </form>

            <div class="d-flex justify-content-center">
                <button type="button" class="w-50" id="cartBtn" style="background-color: black; color: white;"><span>Add To Cart</span></button>
            </div>
            <hr>
        </div>
        
        <div class="col">
        </div>


        <div class="col">
            
            <h5>Product Details</h5>
            <p>{{product.description}}</p>
        </div>
        </div>

</div>


<script type="module" src='{% static "validate.js" %}'></script>

{% endblock content %}